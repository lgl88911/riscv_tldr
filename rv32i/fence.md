# fence[.i]

> 同步内存和I/O和指令流
> fence在后续指令中的内存和I/O访问对外部（例如其他线程）可见之前，使这条指令的内存及I/O访问对外部可见。比特中的第 3,2,1和 0位分别对应于设备输入，输出，内存读，写。
> fence.i 同步指令流

- 对所有访存进行排序：

`fence`
`fence iorw, iorw`

- 将前面读取与后面的读取和写入排序：

`fence r, rw`

- 使对内存指令区域的读写，对后续取指令可见。

`fence.i`